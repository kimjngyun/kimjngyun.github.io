"use strict";(self.webpackChunktew=self.webpackChunktew||[]).push([[477],{10:function(n){n.exports=JSON.parse('{"blogPosts":[{"id":"/2022/06/11/typescript-as-const-trick","metadata":{"permalink":"/blog/2022/06/11/typescript-as-const-trick","source":"@site/blog/2022-06-11-typescript-as-const-trick/index.md","title":"The Typescript \\"as const\\" trick","description":"\ud0c0\uc785\uc2a4\ud06c\ub9bd\ud2b8\uc758 const assertions\uc5d0 \ub300\ud574\uc11c \uc54c\uc544\ubd05\uc2dc\ub2e4.","date":"2022-06-11T00:00:00.000Z","formattedDate":"June 11, 2022","tags":[{"label":"Typescript","permalink":"/blog/tags/typescript"}],"readingTime":4.595,"truncated":true,"authors":[{"name":"Jeongyun Kim","url":"https://github.com/kimjngyun","key":"jngyun"}],"frontMatter":{"title":"The Typescript \\"as const\\" trick","description":"\ud0c0\uc785\uc2a4\ud06c\ub9bd\ud2b8\uc758 const assertions\uc5d0 \ub300\ud574\uc11c \uc54c\uc544\ubd05\uc2dc\ub2e4.","authors":["jngyun"],"tags":["Typescript"]},"nextItem":{"title":"LRU Cache","permalink":"/blog/2022/06/08/lru-cache"}},"content":"> ## TL;DR\\n\\n```typescript\\nconst numbers = [1, 2, 3, 4, 5] as const;\\ntype Numbers = typeof numbers[number];\\n// type Numbers = 1 | 2 | 3 | 4 | 5\\n```\\n\\n\x3c!--truncate--\x3e\\n\\n### \ubc30\uc5f4\uc744 `as const`\uc73c\ub85c \ud558\uba74 \ubb50\uac00 \ub2ec\ub77c\uc9c8\uae4c?\\n\\n[type-challenges 18](https://github.com/type-challenges/type-challenges/blob/main/questions/00018-easy-tuple-length/README.ko.md)\uc744 \ud558\ub358 \uc911 \uad81\uae08\ud55c \uc810\uc774 \uc0dd\uacbc\uc2b5\ub2c8\ub2e4. \ubb38\uc81c\ub294 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4.\\n\\n> \ubc30\uc5f4(\ud29c\ud50c)\uc744 \ubc1b\uc544 \uae38\uc774\ub97c \ubc18\ud658\ud558\ub294 \uc81c\ub124\ub9ad `Length<T>`\ub97c \uad6c\ud604\ud558\uc138\uc694.\\n\\n\uc800\ub294 \ub2e4\uc74c\uacfc \uac19\uc774 `Length<T>`\ub97c \uad6c\ud604\ud558\uc600\uc2b5\ub2c8\ub2e4.\\n\\n```typescript\\ntype Length<T extends { [x: number]: any; readonly length: number }> =\\n  T[\\"length\\"];\\n```\\n\\n\uadf8\ub7f0\ub370 \ubc30\uc5f4\uc744 `as const`\ub85c \ub2e8\uc5b8\ud55c \uacbd\uc6b0\uc5d0\ub9cc \ud14c\uc2a4\ud2b8\ub97c \ud1b5\uacfc\ud569\ub2c8\ub2e4.\\n\\n```typescript\\nimport type { Equal, Expect } from \\"@type-challenges/utils\\";\\n\\nconst numbersAsConst = [1, 2, 3, 4, 5] as const;\\nconst numbers = [1, 2, 3, 4, 5];\\n\\ntype cases = [\\n  Expect<Equal<Length<typeof numbersAsConst>, 5>>,\\n  // @ts-expect-error\\n  Expect<Equal<Length<typeof numbers>, 5>>\\n];\\n```\\n\\ntsc\ub294 `numbersAsConst`\ub294 `readonly [1, 2, 3, 4, 5]` \ub77c\ub294 \ud0c0\uc785\uc73c\ub85c, `numbers`\ub294 `numbers[]`\ub85c \uac00\uc9d1\ub2c8\ub2e4. \uc774 \ub458\uc758 \ucc28\uc774\ub294 \ubb34\uc5c7\uc77c\uae4c\uc694?\\n\\n`numbersAsConst` \uc640 \uac19\uc774 \ubc30\uc5f4\uc744 `const`\ub85c \ub2e8\uc5b8\ud558\uba74 \ud0c0\uc785\uc2a4\ud06c\ub9bd\ud2b8\ub294 \ud574\ub2f9 \ubc30\uc5f4\uc5d0 \ub4e4\uc5b4\uac08 \uc218 \uc788\ub294 \ud56d\ubaa9\uc758 \uc885\ub958\ub97c \uc27d\uac8c \ucd94\ub860\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub610\ud55c \ubaa8\ub4e0 \uac83\ub4e4\uc774 \uc0c1\uc218\uac00 \ub418\uace0 _readonly_ \ud50c\ub798\uadf8\ub97c \uac00\uc9c0\uac8c \ub429\ub2c8\ub2e4. \uadf8\ub9ac\uace0 \uc6b0\ub9ac\ub294 \ubc30\uc5f4\uc5d0 \ub123\uc740 \uac83\uc744 \uc815\ud655\ud55c \uc21c\uc11c\uc640 \ud0c0\uc785\uc73c\ub85c \ubcfc \uc218 \uc788\uc9c0\uc694.\\n\\n### The Problem\\n\\n\uc774\uac83\uc740 \uc5b8\uc81c \uc720\uc6a9\ud560\uae4c\uc694? \ub2e4\uc74c \uc0c1\ud669\uc744 \ubd05\uc2dc\ub2e4.\\n\\n```typescript\\nconst animals = [\\"cat\\", \\"dog\\", \\"mouse\\"];\\n\\nfunction getAnimal(name: string) {\\n  return animals.find((a) => a === name);\\n}\\n\\n// getAnimal(\'cat\')      // OK\\n// getAnimal(\'dog\')      // OK\\n// getAnimal(\'mouse\')    // OK\\n// getAnimal(\'elephant\') // undefined\\n```\\n\\n`animals` \ubc30\uc5f4\uc5d0 \uc788\ub294 \ubb38\uc790\uc5f4\uc744 \uc81c\uc678\ud55c \ub2e4\ub978 \uc785\ub825\uac12\uc744 \uc81c\ud55c\ud558\uace0 \uc2f6\uc2b5\ub2c8\ub2e4. \ub2e4\uc74c\uacfc \uac19\uc774 \ud560 \uc218 \uc788\uaca0\ub124\uc694.\\n\\n```typescript\\nconst animals = [\\"cat\\", \\"dog\\", \\"mouse\\"];\\ntype Animal = \\"cat\\" | \\"dog\\" | \\"mouse\\";\\n\\nfunction getAnimal(name: Animal) {\\n  return animals.find((a) => a === name);\\n}\\n\\n// getAnimal(\'cat\')      // OK\\n// getAnimal(\'dog\')      // OK\\n// getAnimal(\'mouse\')    // OK\\n// getAnimal(\'elephant\') // \'\\"elephant\\"\' \ud615\uc2dd\uc758 \uc778\uc218\ub294 \'Animal\' \ud615\uc2dd\uc758 \ub9e4\uac1c \ubcc0\uc218\uc5d0 \ud560\ub2f9\ub420 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\\n```\\n\\n\uadf8\ub7f0\ub370 \uc6b0\ub9ac\uac00 \uc6d0\ud558\ub294 \uac83\uc740 `animals` \ubc30\uc5f4\uc758 \uac12\ub4e4\uc744 \uc77c\uc77c\ud788 \uc720\ub2c8\uc628 \ud0c0\uc785\uc73c\ub85c \ubcf5\uc81c\ud558\ub294 \uac83\uc774 \uc544\ub2d9\ub2c8\ub2e4. \ubc30\uc5f4\uc5d0\uc11c \ud0c0\uc785\uc744 \ub9cc\ub4e4\uc5b4\ubd05\uc2dc\ub2e4.\\n\\n### Inferred Array Types\\n\\n```typescript\\nconst animals = [\\"cat\\", \\"dog\\", \\"mouse\\"];\\n\\n// const animals: string[]\\n```\\n\\n\uc704\uc5d0\uc11c `animals`\ub294 \uc2a4\ud2b8\ub9c1\uc758 \ubc30\uc5f4\ub85c \ucd08\uae30\ud654\ud588\uae30 \ub54c\ubb38\uc5d0 `string[]` \ud0c0\uc785\uc73c\ub85c \ucd94\ub860\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ub9cc\uc57d `const animals = [\\"cat\\", \\"dog\\", 5];` \ub77c\uace0 \ucd08\uae30\ud654 \ud588\ub2e4\uba74 `const animals: (string | number)[]` \ud0c0\uc785\uc73c\ub85c \ucd94\ub860\ub418\uc5c8\uaca0\uc8e0.\\n\\n### Const Assertion\\n\\n`string[]` \ud0c0\uc785\uc774 \ub418\ub294 \uac83\uc744 \uac15\uc694\ud558\uc9c0 \uc54a\uae30 \uc704\ud574\uc11c \ub2e4\uc74c\uacfc \uac19\uc740 \uc791\uc5c5\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n```typescript\\nconst animals = [\\"cat\\", \\"dog\\", \\"mouse\\"] as [\\"cat\\", \\"dog\\", \\"mouse\\"];\\n\\n// const animals: [\'cat\', \'dog\', \'mouse\']\\n```\\n\\n\uc5ec\uae30\uc11c \uc911\ubcf5\uc744 \uc904\uc774\uae30 \uc704\ud574 TypeScript 3.4\uc5d0 \ub3c4\uc785\ub41c [`const assertions`](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html#const-assertions)\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n```typescript\\nconst animals = [\\"cat\\", \\"dog\\", \\"mouse\\"] as [\\"cat\\", \\"dog\\", \\"mouse\\"];\\n\\n// const animals: readonly[\'cat\', \'dog\', \'mouse\']\\n```\\n\\n### Getting a type from our array\\n\\n\uc774\uc81c `typeof`\ub97c \ud1b5\ud574 `aniamls`\uc758 \ud0c0\uc785\uc744 \uc5bb\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n```typescript\\nconst animals = [\\"cat\\", \\"dog\\", \\"mouse\\"] as const;\\ntype Animal = typeof animals[number];\\n\\n// type Animal = \'cat\' | \'dog\' | \'mouse\'\\n```\\n\\n### Array of Objects\\n\\n\uc778\ub371\uc2a4 \uc2dc\uadf8\ub2c8\ucc98\uc640 \ud504\ub85c\ud37c\ud2f0 \ud0a4\ub97c \uc81c\uacf5\ud558\uc5ec \ub2e4\uc74c\uacfc \uac19\uc774 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n```typescript\\nconst animals = [\\n  { species: \\"cat\\", name: \\"Fluffy\\" },\\n  { species: \\"dog\\", name: \\"Fido\\" },\\n  { species: \\"mouse\\", name: \\"Trevor\\" },\\n] as const;\\n\\ntype Animal = typeof animals[number][\\"name\\"];\\n\\n/// type Animal = \\"Fluffy\\" | \\"Fido\\" | \\"Trevor\\"\\n```\\n\\n### \uacb0\ub860\\n\\n`const assertions`\uc744 \uc774\uc6a9\ud558\uba74\\n\\n1. \ub9ac\ud130\ub7f4 \ud0c0\uc785\uc740 \ub113\uac8c \ucd94\ub860\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. (\uc608\uc2dc. `\\"hello\\"` \uac00 `string`\uc774 \ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.)\\n2. \uac1d\uccb4 \ub9ac\ud130\ub7f4\uc740 _readonly_ \ud504\ub85c\ud37c\ud2f0\ub97c \uac00\uc9d1\ub2c8\ub2e4.\\n3. \ubc30\uc5f4 \ub9ac\ud130\ub7f4\uc740 _readonly_ \ud29c\ud50c\uc774 \ub429\ub2c8\ub2e4.\\n\\n### \ucc38\uace0\\n\\n[types from array](https://steveholgado.com/typescript-types-from-arrays/)\\n\\n[typescript as const](https://www.bscotch.net/post/typescript-as-const)\\n\\n[const assertion](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html#const-assertions)"},{"id":"/2022/06/08/lru-cache","metadata":{"permalink":"/blog/2022/06/08/lru-cache","source":"@site/blog/2022-06-08-lru-cache/index.md","title":"LRU Cache","description":"### TL;DR","date":"2022-06-08T00:00:00.000Z","formattedDate":"June 8, 2022","tags":[{"label":"Python","permalink":"/blog/tags/python"},{"label":"Javascript","permalink":"/blog/tags/javascript"}],"readingTime":7.015,"truncated":true,"authors":[{"name":"Jeongyun Kim","url":"https://github.com/kimjngyun","key":"jngyun"}],"frontMatter":{"title":"LRU Cache","authors":["jngyun"],"tags":["Python","Javascript"]},"prevItem":{"title":"The Typescript \\"as const\\" trick","permalink":"/blog/2022/06/11/typescript-as-const-trick"},"nextItem":{"title":"Asynchronous stack traces","permalink":"/blog/2022/06/06/async-stack-trace"}},"content":"> ### TL;DR\\n\\n**LRU Cache**\ub294 Least-recently-used cache\uc758 \uc57d\uc790\uc785\ub2c8\ub2e4. \uc774 \uae00\uc5d0\uc11c\ub294 \ud30c\uc774\uc36c functools\uc758 lru_cache \ub370\ucf54\ub808\uc774\ud130\uc5d0 \ub300\ud574 \uc18c\uac1c\ud569\ub2c8\ub2e4.\\n\\n\x3c!--truncate--\x3e\\n\\n### LRU Cache\\n\\nLRU\ub294 OS\uc758 \ud398\uc774\uc9c0 \uad50\uccb4 \uc54c\uace0\ub9ac\uc998\uc758 \ud558\ub098\ub85c \uac00\uc7a5 \uc624\ub798 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc740 \ud398\uc774\uc9c0\ub97c \uad50\uccb4\ud558\ub294 \uae30\ubc95\uc785\ub2c8\ub2e4. \uce90\uc2dc \uacf5\uac04\uc774 \ubd80\uc871\ud558\uba74 \uac00\uc7a5 \ucd5c\uadfc\uc5d0 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc740 \ud56d\ubaa9\uc744 \uc81c\uac70\ud569\ub2c8\ub2e4.\\n\\n![lru_cache](./lru_cache.png)\\n\\n\uc704\uc758 \uc608\uc2dc\uc5d0\uc11c A - B - C - D - E - D - F \uc21c\uc73c\ub85c \uc870\ud68c\ud569\ub2c8\ub2e4. \uad04\ud638 \uc548\uc758 \uc22b\uc790\ub294 \ud0c0\uc784\uc2a4\ud0ec\ud504\uc785\ub2c8\ub2e4. \uc22b\uc790\uac00 \uc791\uc744\uc218\ub85d \uc624\ub798\ub41c \ub370\uc774\ud130\uc785\ub2c8\ub2e4. \uc989 \uce90\uc2dc\uac00 \uac00\ub4dd\ucc2c \uacbd\uc6b0\uc5d0 \uac00\uc7a5 \uc22b\uc790\uac00 \uc791\uc740 \ub370\uc774\ud130\uac00 \ubc29\ucd9c\ub418\uace0 \uadf8 \uc790\ub9ac\uc5d0 \uc0c8 \ub370\uc774\ud130\uac00 \uce90\uc2dc\uc5d0 \uc800\uc7a5\ub429\ub2c8\ub2e4.\\n\\n### `@lru_cache` In Python\\n\\nPython\uc5d0\uc11c\ub294 \ub0b4\uc7a5\ub77c\uc774\ube0c\ub7ec\ub9ac\uc778 functools\uc5d0\uc11c lru_cache \ub370\ucf54\ub808\uc774\ud130\ub97c \uc81c\uacf5\ud574\uc90d\ub2c8\ub2e4.\\n\\n\ub370\ucf54\ub808\uc774\ud130\ub97c \uc0ac\uc6a9\ud558\uba74 \ud568\uc218\ub97c \uc218\uc815\ud558\uc9c0 \uc54a\uace0\ub3c4 \uc720\uc5f0\ud558\uac8c \ud568\uc218\uc5d0 \ud2b9\uc815 \ub3d9\uc791\uc744 \ucd94\uac00\ud558\uac70\ub098 \uc791\ub3d9 \ubc29\uc2dd\uc744 \ubc14\uafc0 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n\ub2e4\uc74c \ucf54\ub4dc\ub97c \ud1b5\ud574 \uc0ac\uc6a9\ubc95\uc744 \ubd05\uc2dc\ub2e4. \ud53c\ubcf4\ub098\uce58 \uc218\uc5f4\uc758 n\ubc88\uc9f8 \ud56d\uc744 \uad6c\ud558\ub294 \uc608\uc81c\uc785\ub2c8\ub2e4.\\n\\n```python\\nfrom functools import lru_cache\\n@lru_cache\\ndef fib(n):\\n  if n<2:\\n    return n\\n  else:\\n    return fib(n-1)+fib(n-2)\\nprint(fib(100))\\n```\\n\\n\ub370\ucf54\ub808\uc774\ud130\uac00 \uc5c6\uc774 \uc77c\ubc18\uc801\uc73c\ub85c \ub5a0\uc62c\ub9ac\ub294 \ud480\uc774\ub294 \uba54\ubaa8\uc774\uc81c\uc774\uc158\uc785\ub2c8\ub2e4. \uadf8\ub7ec\ub098 \uc5ec\uae30\uc11c\ub294 `@lru_cache`\ub85c `fib` \ud568\uc218\ub97c \ub7a9\ud551\ud55c\uac8c \uc804\ubd80\uc785\ub2c8\ub2e4.\\n\\n`@functools.lru_cache(maxsize=128, typed=False)` \ub97c \ud1b5\ud574 \uac00\uc7a5 \ucd5c\uadfc\uc758 _maxsize_ \ud638\ucd9c\uc5d0 \ub300\ud55c \uc2e4\ud589 \uacb0\uacfc\ub97c \uce90\uc2f1\ud569\ub2c8\ub2e4. \uacb0\uacfc\ub97c \uce90\uc2dc\ud558\ub294\ub370\ub294 \ub515\uc154\ub108\ub9ac\uac00 \uc0ac\uc6a9\ub418\uae30 \ub54c\ubb38\uc5d0 \ubaa8\ub4e0 \uc778\uc790(\uc21c\uc11c)\uac00 **hashable** \ud0c0\uc785\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4. \ub530\ub77c\uc11c **mutable** \ud55c `dictionary`, `set`, `list` \ub4f1\uc744 \uc778\uc790\ub85c \ubc1b\ub294 \ud568\uc218\uc758 \uacbd\uc6b0\uc5d0\ub294 \uce90\uc2f1\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc774\ub7f0 \ud0c0\uc785\uc744 \uc778\uc790\ub85c \ubc1b\ub294 \ud568\uc218\ub294 \uadf8 \uc778\uc790\ub97c fronzenset\uc774\ub098 tuple \uac19\uc740 immutable\ud0c0\uc785\uc73c\ub85c \ubcc0\ud658\ud574\uc57c \ud569\ub2c8\ub2e4.\\n\\n\ub610 \ud55c\uac00\uc9c0 \uc8fc\uc758\ud574\uc57c\ud560 \uc810\uc774 \uc788\ub294\ub370 \uc774\ub294 \uc18c\uc2a4\ucf54\ub4dc\ub97c \uc870\uae08 \ub4e4\uc5ec\ub2e4\ubcf4\uba74 \uadf8 \uc774\uc720\ub97c \uc54c \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n```python\\ndef _lru_cache_wrapper(user_function, maxsize, typed, _CacheInfo):\\n    # Constants shared by all lru cache instances:\\n    sentinel = object()          # unique object used to signal cache misses\\n    make_key = _make_key         # build a key from the function arguments\\n    PREV, NEXT, KEY, RESULT = 0, 1, 2, 3   # names for the link fields\\n\\n    # \uc774\ud558\uc0dd\ub7b5\\n```\\n\\n\uc5ec\uae30\uc11c `_make_key` \ubd80\ubd84\uc744 \uc870\uae08 \ub354 \ubd05\uc2dc\ub2e4.\\n\\n```python\\ndef _make_key(args, kwds, typed,\\n             kwd_mark = (object(),),\\n             fasttypes = {int, str},\\n             tuple=tuple, type=type, len=len):\\n    key = args\\n    if kwds:\\n        key += kwd_mark\\n        for item in kwds.items():\\n            key += item\\n    if typed:\\n        key += tuple(type(v) for v in args)\\n        if kwds:\\n            key += tuple(type(v) for v in kwds.values())\\n    elif len(key) == 1 and type(key[0]) in fasttypes:\\n        return key[0]\\n    return _HashedSeq(key)\\n```\\n\\n\ub2e4\uc74c\uacfc \uac19\uc740 \uc8fc\uc11d\uc774 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n> All of code below relies on kwds preserving the order input by the user. Formerly, we sorted() the kwds before looping. The new way is _much_ faster; however, it means that f(x=1, y=2) will now be treated as a distinct call from f(y=2, x=1) which will be cached separately.\\n\\n`_make_key` \ud568\uc218\uc758 \uad6c\ud604\uc740 \uc778\uc790\ub4e4\uc758 \uc21c\uc11c\ub098 \ud0a4\uc6cc\ub4dc\uc5d0\ub3c4 \uc601\ud56d\uc744 \ubc1b\uae30 \ub54c\ubb38\uc5d0 `f(x=1, y=2)`\uc640 `f(y=2, x=1)` \uac00 \ubcc4\uac1c\ub85c \uce90\uc2dc\ub41c\ub2e4\ub294 \uac83\uc744 \uc758\ubbf8\ud569\ub2c8\ub2e4.\\n\\n`lru_cache` \ub370\ucf54\ub808\uc774\ud130\ub294 \uce90\uc2dc\uc758 \ud6a8\uc728\uc744 \uce21\uc815\ud558\uace0 _maxsize_ \ud30c\ub77c\ubbf8\ud130\ub97c \uc870\uc815\ud558\ub294 \uac83\uc744 \ub3d5\uae30 \uc704\ud574 `cache_info()` \ud568\uc218\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. `cache_info()` \ud568\uc218\ub294 hits, misses, maxsize, \uadf8\ub9ac\uace0 currsize\ub97c \uc54c\ub824\uc8fc\ub294 `named tuple`\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.\\n\\n```python\\n>>> print(fib(100))\\n354224848179261915075\\n\\n>>> print(fib.cache_info())\\nCacheInfo(hits=98, misses=101, maxsize=128, currsize=101)\\n```\\n\\n\ub610\ud55c \uce90\uc2dc\ub97c \uc9c0\uc6b0\uac70\ub098 \ubb34\ud6a8\ub85c \ud558\uae30 \uc704\ud55c `cache_clear()` \ud568\uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n\uc5ec\ub2f4\uc73c\ub85c \uc704 \ud53c\ubcf4\ub098\uce58 \uc608\uc81c\uc5d0\uc11c\ub294 *maxsize*\uac00 3\uc774\uba74 \ucda9\ubd84\ud569\ub2c8\ub2e4.\\n\\n\uc77c\ubc18\uc801\uc73c\ub85c LRU \uce90\uc2dc\ub294 \uc774\uc804\uc5d0 \uacc4\uc0b0\ub41c \uac12\uc744 \uc7ac\uc0ac\uc6a9\ud558\ub824\uace0 \ud560 \ub54c\ub9cc \uc0ac\uc6a9\ud574\uc57c \ud569\ub2c8\ub2e4. \ub530\ub77c\uc11c \ubd80\uc791\uc6a9\uc774 \uc788\ub294 \ud568\uc218, \uac01 \ud638\ucd9c\uc5d0\uc11c \uace0\uc720\ud55c \uac00\ubcc0 \uac1d\uccb4\ub97c \ub9cc\ub4e4\uc5b4\uc57c \ud558\ub294 \ud568\uc218, time()\uc774\ub098 random()\uacfc \uac19\uc740 \ube44\uc21c\uc218(impure) \ud568\uc218\ub97c \uce90\uc2dc \ud558\ub294 \uac83\uc740 \uc758\ubbf8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.\\n\\n\uad6c\ud604\uc774 \uad81\uae08\ud558\uc2dc\ub2e4\uba74 \ub2e4\uc74c \uc18c\uc2a4\ucf54\ub4dc\ub97c \ucc38\uace0\ud558\uc2dc\uae38 \ubc14\ub78d\ub2c8\ub2e4.\\n\\n[functools.py](https://github.com/python/cpython/blob/3.10/Lib/functools.py#L525)\\n\\n### `@cache` in Python\\n\\n\ub2e8\uc21c\ud558\uace0 \uac00\ubcbc\uc6b4 \ubb34\uc81c\ud55c \ud568\uc218 \uce90\uc2dc\uc785\ub2c8\ub2e4. `@lru_cache(maxsize=None)`\uc640 \uac19\uc740 \uac83\uc744 \ubc18\ud658\ud558\uc5ec \uc774\uc804 \uac12\uc744 \uc81c\uac70\ud560 \ud544\uc694\uac00 \uc5c6\uae30 \ub54c\ubb38\uc5d0 \ud06c\uae30 \uc81c\ud55c\uc774 \uc788\ub294 `lru_cache()` \ubcf4\ub2e4 \uc791\uace0 \ube60\ub985\ub2c8\ub2e4.\\n\\nPython 3.9\uc5d0 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.\\n\\n### \uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8\uc5d0\uc11c \uad6c\ud604\\n\\n\uc791\ub144\uc5d0 \uc6f9\ud06c\ub864\ub9c1\ud55c \uacb0\uacfc\ub97c \uce90\uc2f1\ud574\uc57c\ud558\ub294 \uacfc\uc81c\uac00 \uc788\uc5c8\ub294\ub370, \ud574\ub2f9 \uacfc\uc81c\ub97c \uc9c4\ud589\ud558\uba74\uc11c \uc774\uc6a9\ud588\ub358 LRU Cache \ud074\ub798\uc2a4\uc785\ub2c8\ub2e4. \uad6c\ud604 \ubaa9\ud45c\ub85c \uac01 \ud56d\ubaa9\uc5d0 \ub300\ud55c \uc801\uc911 \ud69f\uc218\ub97c \uce74\uc6b4\ud2b8\ud574\uc57c\ud574\uc11c \uc774\uc5d0 \ub300\ud55c \uad6c\ud604\uc744 \ucd94\uac00\ud55c \ub140\uc11d\uc785\ub2c8\ub2e4.\\n\\n```javascript\\nclass Node {\\n  constructor(key, value, next = null, prev = null, hits = 1) {\\n    this.key = key;\\n    this.value = value;\\n    this.next = next;\\n    this.prev = prev;\\n    this.hits = hits;\\n  }\\n}\\n\\nexport default class LRUCache {\\n  constructor(limit = 10) {\\n    this.size = 0;\\n    this.limit = limit;\\n    this.head = null;\\n    this.tail = null;\\n    this.cacheMap = {};\\n  }\\n\\n  set(key, value) {\\n    const existingNode = this.cacheMap[key];\\n    if (existingNode) {\\n      this.detach(existingNode);\\n      this.size--;\\n    } else if (this.size === this.limit) {\\n      delete this.cacheMap[this.tail.key];\\n      this.detach(this.tail);\\n      this.size--;\\n    }\\n\\n    if (!this.head) {\\n      this.head = this.tail = new Node(key, value);\\n    } else {\\n      const node = new Node(key, value, this.head);\\n      this.head.prev = node;\\n      this.head = node;\\n    }\\n    this.cacheMap[key] = this.head;\\n    this.size++;\\n  }\\n\\n  get(key) {\\n    const existingNode = this.cacheMap[key];\\n    if (existingNode) {\\n      const temp = existingNode.hits + 1;\\n      const value = existingNode.value;\\n      if (this.head !== existingNode) {\\n        this.set(key, value);\\n        this.head.hits = temp;\\n      }\\n      existingNode.hits = temp;\\n      return value;\\n    }\\n    return false;\\n  }\\n\\n  detach(node) {\\n    if (node.prev !== null) {\\n      node.prev.next = node.next;\\n    } else {\\n      this.head = node.next;\\n    }\\n\\n    if (node.next !== null) {\\n      node.next.prev = node.prev;\\n    } else {\\n      this.tail = node.prev;\\n    }\\n  }\\n}\\n```\\n\\n---\\n\\n#### \ucc38\uace0\\n\\n[functools](https://docs.python.org/3/library/functools.html)\\n\\n[Cache replacement policies](https://en.wikipedia.org/wiki/Cache_replacement_policies)"},{"id":"/2022/06/06/async-stack-trace","metadata":{"permalink":"/blog/2022/06/06/async-stack-trace","source":"@site/blog/2022-06-06-async-stack-trace/index.md","title":"Asynchronous stack traces","description":"### TL;DR","date":"2022-06-06T00:00:00.000Z","formattedDate":"June 6, 2022","tags":[{"label":"Javascript","permalink":"/blog/tags/javascript"},{"label":"Translate","permalink":"/blog/tags/translate"}],"readingTime":5.555,"truncated":true,"authors":[{"name":"Jeongyun Kim","url":"https://github.com/kimjngyun","key":"jngyun"}],"frontMatter":{"title":"Asynchronous stack traces","authors":["jngyun"],"tags":["Javascript","Translate"]},"prevItem":{"title":"LRU Cache","permalink":"/blog/2022/06/08/lru-cache"},"nextItem":{"title":"Anti Hash Hack in Python","permalink":"/blog/2022/04/14/python-anti-hash-hack"}},"content":"> ### TL;DR\\n\\n`Promise`\ub4e4\uc744 \uc9c1\uc811 \uc0ac\uc6a9\ud558\ub294 \uac83\uacfc \ube44\uad50\ud558\uc5ec `async` \uc640 `await`\ub294 \ucf54\ub4dc\ub97c \ub354 \uac00\ub3c5\uc131\uc788\uac8c \ub9cc\ub4e4\uc5b4\uc904\ubfd0\ub9cc \uc544\ub2c8\ub77c \uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8 \uc5d4\uc820\ub2e8\uc5d0\uc11c \uc5b4\ub5a4 \ud2b9\ubcc4\ud55c \ucd5c\uc801\ud654\ub97c \uac00\ub2a5\ud558\uac8c \ud574\uc8fc\uae30\ub3c4 \ud569\ub2c8\ub2e4. \uc774\ubc88 \uae00\uc5d0\uc11c\ub294 \ube44\ub3d9\uae30 \ucf54\ub4dc\ub97c \uc704\ud55c \uc2a4\ud0dd \ucd94\uc801\uc744 \ud3ec\ud568\ud55c \ucd5c\uc801\ud654\uc5d0 \ub300\ud55c \ub0b4\uc6a9\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.\\n\\n\x3c!--truncate--\x3e\\n\\n### Intro\\n\\n\ubc14\ub2d0\ub77c \ud504\ub77c\ubbf8\uc2a4\uc640 `await`\uc758 \ucc28\uc774\ub294 `promise.then(X)`\uc740 \ucf5c\ubc31 \uccb4\uc778\uc5d0 X \ud638\ucd9c\uc744 \ucd94\uac00\ud55c \ud6c4 \ud604\uc7ac \ud568\uc218\uc758 \uc2e4\ud589\uc744 \uacc4\uc18d\ud558\ub294 \ubc18\uba74\uc5d0 `await X()`\ub294 \ud604\uc7ac \ud568\uc218\uc758 \uc2e4\ud589\uc744 \uc2e4\ud589\uc744 \uc911\uc9c0\ud569\ub2c8\ub2e4. \uc2a4\ud0dd \ucd94\uc801\uc758 \ubb38\ub9e5\uc5d0\uc11c \uc774 \ucc28\uc774\ub294 \uc0c1\ub2f9\ud788 \uc911\uc694\ud569\ub2c8\ub2e4.\\n\\n\ud504\ub77c\ubbf8\uc2a4 \uccb4\uc778(desugared or not)\uc774 \ucc98\ub9ac\ub418\uc9c0 \uc54a\uc740 \uc608\uc678\ub97c \uc784\uc758\uc758 \uc2dc\uc810\uc5d0\uc11c \ubc1c\uc0dd\uc2dc\ud0a4\uba74 \uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8 \uc5d4\uc9c4\uc740 \uc624\ub958 \uba54\uc138\uc9c0\uc640 \uc720\uc6a9\ud55c \uc2a4\ud0dd \ucd94\uc801\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. \uac1c\ubc1c\uc790\ub85c\uc11c \ub2f9\uc2e0\uc740 \ubc14\ub2d0\ub77c \ud504\ub77c\ubbf8\uc2a4\ub97c \uc4f0\ub4e0 `async`/`await`\ub97c \uc4f0\ub4e0\uc9c0\uc5d0 \uc0c1\uad00\uc5c6\uc774 \uc774\uac83\uc744 \uae30\ub300\ud569\ub2c8\ub2e4.\\n\\n### Vanilla Promises\\n\\n\ube44\ub3d9\uae30 \ud568\uc218 `b`\uac00 \uc774\ud589\ub420\ub54c \ud638\ucd9c\ub418\ub294 `c`\uac00 \ud638\ucd9c\ub418\ub294 \uc2dc\ub098\ub9ac\uc624\ub97c \uac00\uc815\ud574\ubd05\uc2dc\ub2e4.\\n\\n```javascript\\nconst a = () => {\\n  b().then(() => c());\\n};\\n```\\n\\n`a`\uac00 \ud638\ucd9c \ub418\uba74 \ub2e4\uc74c \uacfc\uc815\uc774 \ub3d9\uae30\uc801\uc73c\ub85c \uc77c\uc5b4\ub0a9\ub2c8\ub2e4.\\n\\n- `b`\uac00 \ud638\ucd9c \ub418\uace0 \ubbf8\ub798\uc758 \uc5b4\ub290 \uc2dc\uc810\uc5d0 \uc774\ud589\ub420 \ud504\ub77c\ubbf8\uc2a4\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4.\\n- \uadf8\ub9ac\uace0 `.then` \ucf5c\ubc31(\uc0ac\uc2e4\uc0c1 c()\ub97c \ud638\ucd9c\ud558\ub294)\uc774 \ucf5c\ubc31 \uccb4\uc778\uc5d0 \ucd94\uac00\ub429\ub2c8\ub2e4. (\ud639\uc740, V8 lingo\uc5d0\uc120 [...]\uac00 *resolve handler*\ub85c\uc11c \ucd94\uac00\ub429\ub2c8\ub2e4).\\n\\n\uc774\ud6c4\uc5d0, \ud568\uc218 `a`\uc758 \ubc14\ub514\uc5d0 \uc788\ub294 \ucf54\ub4dc\uc758 \uc2e4\ud589\uc744 \ub9c8\uce69\ub2c8\ub2e4. `a`\ub294 \uacb0\ucf54 \uc911\ub2e8\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \uadf8\ub9ac\uace0 `b`\uc5d0 \ub300\ud55c \ube44\ub3d9\uae30 \ud638\ucd9c\uc774 \uc774\ud589\ub418\ub294 \uc2dc\uc810\uc5d0 \ucee8\ud14d\uc2a4\ud2b8\uac00 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4. \ub9cc\uc57d `b` \ud639\uc740 `c`\uac00 \ube44\ub3d9\uae30\uc801\uc73c\ub85c \uc608\uc678\ub97c \ubc1c\uc0dd\uc2dc\ud0a4\uba74 \ubb34\uc2a8 \uc77c\uc774 \ubc1c\uc0dd\ud560\uc9c0 \uc0c1\uc0c1\ud574\ubcf4\uc138\uc694. \uc2a4\ud0dd \ucd94\uc801\uc740 `a`\ub97c \ud3ec\ud568\ud574\uc57c\ud569\ub2c8\ub2e4, \uc65c\ub0d0\uba74 `b`\ub098 `c`\uac00 \ud638\ucd9c\ub41c \uacf3\uc774\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4. \ub354\uc774\uc0c1 `a`\uc5d0 \ub300\ud55c \ucc38\uc870\ub97c \uac00\uc9c0\uace0 \uc788\uc9c0 \uc54a\uc740 \uc0c1\ud0dc\uc5d0\uc11c \uc5b4\ub5bb\uac8c \uc774\uac83\uc774 \uac00\ub2a5\ud560\uae4c\uc694?\\n\\n\uc774\uac83\uc774 \uc791\ub3d9\ud558\uae30 \uc704\ud574\uc11c \uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8 \uc5d4\uc9c4\uc740 \uc704 \uacfc\uc815 \uc774\uc678\uc5d0 \ub2e4\ub978 \ubb34\uc5b8\uac00\ub97c \ud560 \ud544\uc694\uac00 \uc788\uc2b5\ub2c8\ub2e4. \uc544\uc9c1 \uae30\ud68c\uac00 \uc788\uc744\ub54c \uc2a4\ud0dd \ucd94\uc801\uc744 `a` \ub0b4\uc5d0 \ucea1\ucc98\ud558\uace0 \uc800\uc7a5\ud569\ub2c8\ub2e4. V8\uc5d0\uc11c\ub294 \uc2a4\ud0dd \ucd94\uc801\uc774 `b`\uac00 \ubc18\ud658\ud558\ub294 \ud504\ub77c\ubbf8\uc2a4\uc5d0 \ubd99\uc2b5\ub2c8\ub2e4. \ud504\ub77c\ubbf8\uc2a4\uac00 \uc774\ud589\ub418\uba74 \uc2a4\ud0dd \ucd94\uc801\uc774 \uc804\ud574\uc838\uc11c `c`\uac00 \ub9cc\uc57d \ud544\uc694\ud558\uba74 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n\uc2a4\ud0dd \ucd94\uc801\uc744 \ucea1\ucc98\ub9c1\ud558\ub294 \uac83\uc740 \uc2dc\uac04\uc774 \uc18c\ubaa8\ub418\uace0, \uc774\uac83\ub4e4\uc744 \uc800\uc7a5\ud558\uae30 \uc704\ud574\uc11c\ub294 \uba54\ubaa8\ub9ac\uac00 \uc18c\ubaa8\ub429\ub2c8\ub2e4.\\n\\n### `async`/`await`\\n\\n\uc5ec\uae30 \ubc14\ub2d0\ub77c \ud504\ub77c\ubbf8\uc2a4 \ub300\uc2e0 `async`/`await`\uc744 \uc774\uc6a9\ud55c \ub3d9\uc77c\ud55c \ud504\ub85c\uadf8\ub7a8\uc774 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n```javascript\\nconst a = async () => {\\n  await b();\\n  c();\\n};\\n```\\n\\n`await`\uacfc \ud568\uaed8 \uc6b0\ub9ac\ub294 `await` \ud638\ucd9c \uc2dc \uc2a4\ud0dd \ucd94\uc801\uc744 \uc218\uc9d1\ud558\uc9c0 \uc54a\ub354\ub77c\ub3c4 \ucf5c \uccb4\uc778\uc744 \ubcf5\uc6d0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\uac83\uc740 `b`\uac00 \uc774\ud589\ub418\uae30\ub97c \uae30\ub2e4\ub9ac\uba74\uc11c `a`\uac00 \uc911\uc9c0\ub418\uae30 \ub54c\ubb38\uc5d0 \uac00\ub2a5\ud569\ub2c8\ub2e4. \ub9cc\uc57d `b`\uac00 \uc608\uc678\ub97c \ub358\uc9c0\uba74 \uc2a4\ud0dd \ucd94\uc801\uc740 \uc774\ub7ec\ud55c \ubc29\uc2dd\uc73c\ub85c \ud544\uc694\uc5d0 \ub530\ub77c \uc7ac\uad6c\uc131\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub9cc\uc57d `c`\uac00 \uc608\uc678\ub97c \ub358\uc9c0\uba74 \uc2a4\ud0dd \ucd94\uc801\uc740 \ub3d9\uae30 \ud568\uc218\uc5d0 \ub300\ud55c \uac83\uacfc \ub9c8\ucc2c\uac00\uc9c0\ub85c \uad6c\uc131\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc65c\ub0d0\ud558\uba74 \uc5ec\uc804\ud788 `a`\ub0b4\uc5d0 \uc788\uae30 \ub54c\ubb38\uc774\uc8e0.\\n\\n### Recommendations\\n\\n\uac89\ubcf4\uae30\uc5d0\ub294 \ub2e8\uc21c\ud788 \ubb38\ubc95\uc801 \uc124\ud0d5(syntax sugar)\ucc98\ub7fc \ubcf4\uc774\ub294 \ub300\ubd80\ubd84\uc758 ECMAScript\uc758 \uae30\ub2a5\ub4e4\ucc98\ub7fc, `async`/`await`\ub294 \uadf8 \uc774\uc0c1\uc758 \uc758\ubbf8\ub97c \uac00\uc9d1\ub2c8\ub2e4.\\n\\n\ub2e4\uc74c \uad8c\uc7a5\uc0ac\ud56d\uc744 \ub530\ub77c \uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8 \uc5d4\uc9c4\uc774 \ub354 \uc131\ub2a5 \ubc0f \uba54\ubaa8\ub9ac \ud6a8\uc728\uc801\uc778 \ubc29\uc2dd\uc73c\ub85c \uc2a4\ud0dd \ucd94\uc801\uc744 \ub2e4\ub8f0 \uc218 \uc788\ub3c4\ub85d \ud569\uc2dc\ub2e4.\\n\\n- Prefer `async`/`await` over `desugared promises`.\\n- Use `@babel/preset-env` to avoid transpiling `async`/`await` unnecessarily.\\n\\nV8\uc740 \uc544\uc9c1 \uc774 \ucd5c\uc801\ud654\ub97c \uad6c\ud604\ud558\uc9c0 \uc54a\uc558\uc9c0\ub9cc, \uc774 \uc870\uc5b8\uc744 \ub530\ub974\uba74 \uc77c\ub2e8 \uc6b0\ub9ac(\ub610\ub294 \ub2e4\ub978 JavaScript \uc5d4\uc9c4)\uac00 \uad6c\ud604\ud55c \ud6c4\uc5d0\ub294 \ucd5c\uc801\uc758 \uc131\ub2a5\uc744 \ubcf4\uc7a5\ud569\ub2c8\ub2e4.\\n\\n---\\n\\n#### \uc6d0\ubb38\\n\\n[Asynchronous stack traces: why await beats Promise#then()](https://mathiasbynens.be/notes/async-stack-traces)"},{"id":"/2022/04/14/python-anti-hash-hack","metadata":{"permalink":"/blog/2022/04/14/python-anti-hash-hack","source":"@site/blog/2022-04-14-python-anti-hash-hack/index.md","title":"Anti Hash Hack in Python","description":"\ud2b9\uc815 \uc0c1\ud669\uc5d0\uc11c \ud30c\uc774\uc36c\uc758 dict\uc640 set\uc740 $O(n^2)$ \uc73c\ub85c \ub3d9\uc791\ud569\ub2c8\ub2e4.","date":"2022-04-14T00:00:00.000Z","formattedDate":"April 14, 2022","tags":[{"label":"Python","permalink":"/blog/tags/python"}],"readingTime":4.055,"truncated":true,"authors":[{"name":"Jeongyun Kim","url":"https://github.com/kimjngyun","key":"jngyun"}],"frontMatter":{"title":"Anti Hash Hack in Python","authors":["jngyun"],"tags":["Python"]},"prevItem":{"title":"Asynchronous stack traces","permalink":"/blog/2022/06/06/async-stack-trace"},"nextItem":{"title":"Property Attribute","permalink":"/blog/2022/01/19/property-attribute"}},"content":"\ud2b9\uc815 \uc0c1\ud669\uc5d0\uc11c \ud30c\uc774\uc36c\uc758 dict\uc640 set\uc740 $O(n^2)$ \uc73c\ub85c \ub3d9\uc791\ud569\ub2c8\ub2e4.\\n\\n\x3c!--truncate--\x3e\\n\\n### \ud574\uc2dc \ud14c\uc774\ube14\uc5d0 \ub300\ud55c \uac04\ub2e8\ud55c \uc815\ubcf4\\n\\nOpen-addressing hash table\uc740 hash\uac12 \ucda9\ub3cc\uc774 \ubc1c\uc0dd\ud588\uc744\ub54c Linked List\uc640 \uac19\uc740 \ucd94\uac00\uc801\uc778 \uba54\ubaa8\ub9ac \uacf5\uac04\uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0, hash table array\uc758 \ube48 \uacf5\uac04\uc744 \uc0ac\uc6a9\ud558\ub294 \ubc29\ubc95\uc785\ub2c8\ub2e4. \ub9cc\uc57d \uc5ec\ub7ec \uc6d0\uc18c\uc758 \ud574\uc2dc\uac00 \ubc30\uc5f4\uc758 \uac19\uc740 \uc140\uc744 \uac00\ub974\ud0ac \uacbd\uc6b0, \ud574\uc2dc \ud14c\uc774\ube14\uc740 \uc124\uc815\ud55c \uaddc\uce59\uc5d0 \ub530\ub77c \ub2e4\ub978 \uc140\uc744 \uac00\ub974\ud0a4\ub3c4\ub85d \ud569\ub2c8\ub2e4.\\n\\n\ubcf4\ud1b5 \uc11c\ub85c\uc18c\uc778 a, b\uc640 f(x) = (a\\\\*x + b)%size\uc744 \ud1b5\ud574 f(x), f(f(x)), f(f(f(x))), ... \uc640 \uac19\uc774 \ube48 \uacf5\uac04\uc774 \ubc1c\uacac \ub420 \ub54c\uae4c\uc9c0 \uc120\ud615 \ubcc0\ud658\uc744 \uc7ac\uadc0\uc801\uc73c\ub85c \ubc18\ubcf5\ud569\ub2c8\ub2e4.\\n\\n### Python\\n\\nPython\uc740 2\uc758 \uac70\ub4ed\uc81c\uacf1 \uc0ac\uc774\uc988\uc758 \ubc30\uc5f4\uc744 \uac00\uc9c0\ub294 hash table\uc744 \uc774\uc6a9\ud558\uc5ec dict\uc744 \uad6c\ud604\ud569\ub2c8\ub2e4. \uc704\uc5d0\uc11c \uc5b8\uae09\ud55c \uc120\ud615 \ubcc0\ud658\ubcf4\ub2e4\ub294 \uc57d\uac04 \ub354 \ubcf5\uc7a1\ud55c f(x) = (5x + 1 + _preturb_)%size \ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc11c \\\\_preturb\\\\_\uc758 \ucd08\uae30\uac12\uc740 hash\uc640 \uac19\uc9c0\ub9cc \ub9e4 \ub2e8\uacc4\ub9c8\ub2e4 32\ub85c \ub098\ub220\uc9c4\ub2e4. \uc774\uc5d0 \ub300\ud55c \uad6c\ud604 \ubc0f \uc790\uc138\ud55c \uc124\uba85\uc740 \uc544\ub798 \ub808\ud3ec\uc9c0\ud1a0\ub9ac\ub97c \ucc38\uace0\ud558\uba74 \uc88b\uc744 \ub4ef \ud569\ub2c8\ub2e4.\\n\\n[https://github.com/python/cpython/blob/3.8/Objects/dictobject.c#L135](https://github.com/python/cpython/blob/3.8/Objects/dictobject.c#L135)\\n\\nPython int \uc790\ub8cc\ud615\uc758 hash \ud568\uc218\ub294 \uac12 \uadf8\ub300\ub85c\uc774\uae30 \ub54c\ubb38\uc5d0 \uc608\uce21\ud558\uae30\uac00 \ub9e4\uc6b0 \uc27d\uc2b5\ub2c8\ub2e4.\\n\\n```python\\n>>> [hash(x) for x in range(10)]\\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\\n```\\n\\n\ub530\ub77c\uc11c \ud2b9\uc815 \ubc88\ud638\uc5d0 \ub300\ud574 \uac80\uc0c9\ud558\ub3c4\ub85d \ud558\ub294 \uc778\ub371\uc2a4\ub4e4\uc758 \uc2dc\ud000\uc2a4\ub97c \ucc3e\uace0 \uc120\uc810\ud55c\ub2e4\uba74, \ub515\uc154\ub108\ub9ac\uc5d0\uc11c \ud574\uc2dc \ucda9\ub3cc\uc744 \ud53c\ud558\uae30 \uc704\ud55c \ud0d0\uc0c9\uc744 \uc720\ubc1c\ud558\uace0 \uacb0\uad6d \uc2e4\ud589 \uc2dc\uac04\uc774 \uae38\uc5b4\uc9c0\uac8c \ub429\ub2c8\ub2e4.\\n\\n### \uc608\uc81c\\n\\n\uc6d0\uae00\uc5d0\uc11c\ub3c4 hack\uc758 \uc608\uc2dc\ub85c \uc0ac\uc6a9\ub41c \uc81c \ud480\uc774 \uc785\ub2c8\ub2e4.\\n\\n```python\\nfrom collections import defaultdict\\n\\nfor _ in range(int(input())):\\n  n = int(input())\\n  l = list(map(int, input().split()))\\n  d = defaultdict(int)\\n  for i in range(n):\\n    d[l[i]] += 1\\n  MAX = 0\\n  for i, v in d.items():\\n    MAX = max(MAX, v)\\n  t = n - MAX\\n  a = 0\\n  while MAX < n:\\n    MAX *= 2\\n    a += 1\\n  print(a+t)\\n```\\n\\nhack input\uc744 \uc0dd\uc131\ud574\uc11c \ud14c\uc2a4\ud2b8\ud574\ubcf4\uc558\uc2b5\ub2c8\ub2e4.\\n\\n```python\\nfrom collections import defaultdict\\nimport time\\n\\ndef solve(n, l):\\n  d = defaultdict(int)\\n  for i in range(n):\\n    d[l[i]] += 1\\n  MAX = 0\\n  for i, v in d.items():\\n    MAX = max(MAX, v)\\n  t = n - MAX\\n  a = 0\\n  while MAX < n:\\n    MAX *= 2\\n    a += 1\\n  print(a+t)\\n\\n\\nmask = (1<<16)-1\\nN = 10**5\\nprefill = (1<<15) + 1\\nl = [mask+1]\\nx = 1\\nfor i in range(1, prefill):\\n  l.append(x)\\n  x = x*5 + 1\\n  x &= mask\\nfor i in range(prefill, N):\\n  l.append(0)\\n\\nstart = time.time()\\nsolve(N, l)\\nprint(\\"time: \\", time.time() - start)\\n```\\n\\n![capture](cap1.png)\\n\\n### \ud574\uacb0\ucc45\\n\\nstr\uc73c\ub85c \uce90\uc2a4\ud305\ud558\uc5ec \ud574\uc2dc\ub97c \uc608\uce21\ud558\uae30 \uc5b4\ub835\uac8c \ub9cc\ub4e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n\ud639\uc740 \uc6d0\uae00\uc758 \ud544\uc790\uac00 \uc18c\uac1c\ud55c \uac83\ucc98\ub7fc \ub2e4\uc74c\uacfc \uac19\uc740 \ubc29\ubc95\uc73c\ub85c \ucee4\uc2a4\ud140 \ud0c0\uc785\uc744 \ub9cc\ub4e4\uace0 \ud574\uc2dc\ud568\uc218\ub97c \ub2e4\ub974\uac8c \uc815\uc758\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n```python\\nfrom random import getrandbits\\n\\nRANDOM = getrandbits(32)\\n\\nclass Wrapper(int):\\n    def __init__(self, x):\\n        int.__init__(x)\\n    def __hash__(self):\\n        return super(Wrapper, self).__hash__() ^ RANDOM\\n\\nprint([hash(x) for x in range(5)])\\n### [0, 1, 2, 3, 4]\\nprint([hash(Wrapper(x)) for x in range(5)])\\n### [2129021029, 2129021028, 2129021031, 2129021030, 2129021025]\\nprint([hash(str(x)) for x in range(5)])\\n### [-5039433375330228259, -3486952520122288577, -8645858109351545456, -7072236602376142849, 5720728269243863574]\\n\\n\\nd = {}\\nfor i in range(5):\\n  d[Wrapper(i)] = i\\nprint(d)\\n### {0: 0, 1: 1, 2: 2, 3: 3, 4: 4}\\n```\\n\\n\uc815\uc218\ud615\uc744 dict\uc758 key\ub85c \uc0ac\uc6a9\ud558\ub294 \ud480\uc774\ub294 \ud574\ub2f9 hack\uc5d0 \ucde8\uc57d\ud569\ub2c8\ub2e4. \uc870\uc2ec\ud558\ub3c4\ub85d \ud569\uc2dc\ub2e4!\\n\\n#### \ucc38\uace0\\n\\n[https://codeforces.com/blog/entry/101817](https://codeforces.com/blog/entry/101817)\\n\\n[https://foss.heptapod.net/pypy/pypy/-/issues/3725](https://foss.heptapod.net/pypy/pypy/-/issues/3725)"},{"id":"/2022/01/19/property-attribute","metadata":{"permalink":"/blog/2022/01/19/property-attribute","source":"@site/blog/2022-01-19-property-attribute/index.md","title":"Property Attribute","description":"\uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8\uc758 \ud504\ub85c\ud37c\ud2f0 \uc5b4\ud2b8\ub9ac\ubdf0\ud2b8\uc5d0 \ub300\ud574\uc11c \uc54c\uc544\ubd05\uc2dc\ub2e4.","date":"2022-01-19T00:00:00.000Z","formattedDate":"January 19, 2022","tags":[{"label":"Javascript","permalink":"/blog/tags/javascript"}],"readingTime":10.77,"truncated":true,"authors":[{"name":"Jeongyun Kim","url":"https://github.com/kimjngyun","key":"jngyun"}],"frontMatter":{"title":"Property Attribute","authors":["jngyun"],"tags":["Javascript"]},"prevItem":{"title":"Anti Hash Hack in Python","permalink":"/blog/2022/04/14/python-anti-hash-hack"}},"content":":::note\\n\\n\uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8\uc758 \ud504\ub85c\ud37c\ud2f0 \uc5b4\ud2b8\ub9ac\ubdf0\ud2b8\uc5d0 \ub300\ud574\uc11c \uc54c\uc544\ubd05\uc2dc\ub2e4.\\n\\n:::\\n\\n\x3c!--truncate--\x3e\\n\\n### \ub0b4\ubd80 \uc2ac\ub86f\uacfc \ub0b4\ubd80 \uba54\uc11c\ub4dc\\n\\n\uc774\uc911 \ub300\uad04\ud638 **\\\\[\\\\[]]** \ub85c \uac10\uc2fc \uc774\ub984\ub4e4\uc774 \ub0b4\ubd80 \uc2ac\ub86f\uacfc \ub0b4\ubd80 \uba54\uc11c\ub4dc\uc785\ub2c8\ub2e4. \ub0b4\ubd80 \uc2ac\ub86f\uacfc \ub0b4\ubd80 \uba54\uc11c\ub4dc\ub294 ECMAScript \uc0ac\uc591\uc5d0 \uc815\uc758\ub41c \ub300\ub85c \uad6c\ud604\ub418\uc5b4 \uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8 \uc5d4\uc9c4 \ub0b4\uc5d0\uc11c \ub3d9\uc791\ud558\uc9c0\ub9cc \uac1c\ubc1c\uc790\uac00 \uc9c1\uc811 \uc811\uadfc\ud560 \uc218 \uc788\ub3c4\ub85d \uc678\ubd80\uc5d0 \uacf5\uac1c\ub41c \uac1d\uccb4\uc758 \ud504\ub85c\ud37c\ud2f0\ub294 \uc544\ub2d9\ub2c8\ub2e4. \uc6d0\uce59\uc801\uc73c\ub85c \uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8\ub294 \ub0b4\ubd80 \uc2ac\ub86f\uacfc \ub0b4\ubd80 \uba54\uc11c\ub4dc\uc5d0 \uc9c1\uc811\uc801\uc73c\ub85c \uc811\uadfc\ud558\uac70\ub098 \ud638\ucd9c\ud560 \uc218 \uc788\ub294 \ubc29\ubc95\uc744 \uc81c\uacf5\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ub2e8, \uc77c\ubd80 \ub0b4\ubd80 \uc2ac\ub86f\uacfc \ub0b4\ubd80 \uba54\uc11c\ub4dc\uc5d0 \ud55c\ud558\uc5ec \uac04\uc811\uc801\uc73c\ub85c \uc811\uadfc\ud560 \uc218 \uc788\ub294 \uc218\ub2e8\uc744 \uc81c\uacf5\ud558\uae30\ub294 \ud569\ub2c8\ub2e4. \uadf8 \uc608\uc2dc\ub85c **\\\\[\\\\[Prototype\\\\]\\\\]** \ub294 \ubaa8\ub4e0 \uac1d\uccb4\uac00 \uac00\uc9c0\ub294 \ub0b4\ubd80 \uc2ac\ub86f\uc774\uace0 \uc774\uac83\uc740 `__proto__` \ub97c \ud1b5\ud574 \uac04\uc811\uc801\uc73c\ub85c \uc811\uadfc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n### \ud504\ub85c\ud37c\ud2f0 \uc5b4\ud2b8\ub9ac\ubdf0\ud2b8\uc640 \ud504\ub85c\ud37c\ud2f0 \ub514\uc2a4\ud06c\ub9bd\ud130 \uac1d\uccb4\\n\\n\uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8 \uc5d4\uc9c4\uc740 \ud504\ub85c\ud37c\ud2f0\ub97c \uc0dd\uc131\ud560 \ub54c \ud504\ub85c\ud37c\ud2f0\uc758 \uc0c1\ud0dc\ub97c \ub098\ud0c0\ub0b4\ub294 \ud504\ub85c\ud37c\ud2f0 \uc5b4\ud2b8\ub9ac\ubdf0\ud2b8\ub97c \uae30\ubcf8\uac12\uc73c\ub85c \uc790\ub3d9 \uc815\uc758\ud569\ub2c8\ub2e4. `Object.getOwnPropertyDescriptor` \uba54\uc11c\ub4dc\uc5d0 \uac1d\uccb4\uc758 \ucc38\uc870\uc640 \ud504\ub85c\ud37c\ud2f0 \ud0a4\ub97c \uc804\ub2ec\ud558\uc5ec \ud638\ucd9c\ud558\uba74 \ud504\ub85c\ud37c\ud2f0 \uc5b4\ud2b8\ub9ac\ubdf0\ud2b8 \uc815\ubcf4\ub97c \uc81c\uacf5\ud558\ub294 \ud504\ub85c\ud37c\ud2f0 \ub514\uc2a4\ud06c\ub9bd\ud130 \uac1d\uccb4\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4. \ub9cc\uc57d \uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ud504\ub85c\ud37c\ud2f0\ub098 \uc0c1\uc18d\ubc1b\uc740 \ud504\ub85c\ud37c\ud2f0\uc5d0 \ub300\ud55c \ud504\ub85c\ud37c\ud2f0 \ub514\uc2a4\ud06c\ub9bd\ud130\ub97c \uc694\uad6c\ud558\uba74 `undefined` \uac00 \ubc18\ud658\ub429\ub2c8\ub2e4. `Object.getOwnPropertyDescriptors` \uba54\uc11c\ub4dc\ub294 \ubaa8\ub4e0 \ud504\ub85c\ud37c\ud2f0\uc758 \ud504\ub85c\ud37c\ud2f0 \uc5b4\ud2b8\ub9ac\ubdf0\ud2b8 \uc815\ubcf4\ub97c \uc81c\uacf5\ud558\ub294 \ud504\ub85c\ud37c\ud2f0 \ub514\uc2a4\ud06c\ub9bd\ud130 \uac1d\uccb4\ub4e4\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.\\n\\n### \ub370\uc774\ud130 \ud504\ub85c\ud37c\ud2f0\uc640 \uc811\uadfc\uc790 \ud504\ub85c\ud37c\ud2f0\\n\\n\ud504\ub85c\ud37c\ud2f0\ub294 \ub370\uc774\ud130 \ud504\ub85c\ud37c\ud2f0\uc640 \uc811\uadfc\uc790 \ud504\ub85c\ud37c\ud2f0\ub85c \uad6c\ubd84\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n- **\ub370\uc774\ud130 \ud504\ub85c\ud37c\ud2f0**: \ud0a4\uc640 \uac12\uc73c\ub85c \uad6c\uc131\ub41c \uc77c\ubc18\uc801\uc778 \ud504\ub85c\ud37c\ud2f0\\n- **\uc811\uadfc\uc790 \ud504\ub85c\ud37c\ud2f0**: \uc790\uccb4\uc801\uc73c\ub85c \uac12\uc744 \uac16\uc9c0 \uc54a\uace0 \ub2e4\ub978 \ub370\uc774\ud130 \ud504\ub85c\ud37c\ud2f0\uc758 \uac12\uc744 \uc77d\uac70\ub098 \uc800\uc7a5\ud560 \ub54c \ud638\ucd9c\ub418\ub294 \uc811\uadfc\uc790 \ud568\uc218\ub85c \uad6c\uc131\ub41c \ud504\ub85c\ud37c\ud2f0\\n\\n```javascript\\nconst person = {\\n  firstName: \\"Jngyun\\",\\n  lastName: \\"Kim\\",\\n\\n  // getter\\n  get fullName() {\\n    return `${this.firstName} ${this.lastName}`;\\n  },\\n\\n  // setter\\n  set fullName(name) {\\n    [this.firstName, this.lastName] = name.split(\\" \\");\\n  },\\n};\\n\\nconsole.log(person.firstName, person.lastName);\\n// Jngyun Kim\\n\\nperson.fullName = \\"Changha Lee\\";\\nconsole.log(person);\\n// { firstName: \\"Changha\\", lastName: \\"Lee\\", fullName: [Getter/Setter] }\\n\\nconsole.log(person.fullName);\\n// Changha Lee\\n\\nconsole.log(Object.getOwnPropertyDescriptors(person));\\n/**\\n *{\\n *  firstName: { value: \\"Changha\\", writable: true, enumerable: true, configurable: true },\\n *  lastName: { value: \\"Lee\\", writable: true, enumerable: true, configurable: true },\\n *   fullName: {\\n *     get: [Function: get fullName],\\n *     set: [Function: set fullName],\\n *     enumerable: true,\\n *     configurable: true\\n *   }\\n * }\\n */\\n```\\n\\n\uc704\uc758 \uc608\uc2dc\ub97c \ud1b5\ud574 \uc790\uc138\ud788 \uc54c\uc544\ubd05\uc2dc\ub2e4. `person` \uac1d\uccb4\ub294 `firstName`\uacfc `lastName` 2\uac1c\uc758 \ub370\uc774\ud130 \ud504\ub85c\ud37c\ud2f0\ub97c \uac00\uc9c4\ub2e4. `Object.getOwnPropertyDescriptors` \ub97c \ud1b5\ud574 \ud504\ub85c\ud37c\ud2f0 \uc5b4\ud2b8\ub9ac\ubdf0\ud2b8\ub97c \ud655\uc778\ud574\ubd05\uc2dc\ub2e4. \uac01\uac01\uc758 \ub370\uc774\ud130 \ud504\ub85c\ud37c\ud2f0\ub294 4\uac1c\uc758 \ud504\ub85c\ud37c\ud2f0 \uc5b4\ud2b8\ub9ac\ubdf0\ud2b8\ub97c \uac00\uc9c0\uac8c \ub429\ub2c8\ub2e4. \uc774 \ud504\ub85c\ud37c\ud2f0 \uc5b4\ud2b8\ub9ac\ubdf0\ud2b8\ub294 \uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8 \uc5d4\uc9c4\uc774 \ud504\ub85c\ud37c\ud2f0\ub97c \uc0dd\uc131\ud560 \ub54c \uae30\ubcf8\uac12\uc73c\ub85c \uc790\ub3d9 \uc815\uc758 \ub429\ub2c8\ub2e4.\\n\\n- **\\\\[\\\\[Value\\\\]\\\\]** : \ud504\ub85c\ud37c\ud2f0 \ud0a4\ub97c \ud1b5\ud574 \ud504\ub85c\ud37c\ud2f0 \uac12\uc5d0 \uc811\uadfc\ud558\uba74 \ubc18\ud658\ub418\ub294 \uac12\uc785\ub2c8\ub2e4. \ud504\ub85c\ud37c\ud2f0 \ud0a4\ub97c \ud1b5\ud574 \uac12\uc744 \ubcc0\uacbd\ud558\uba74 \ud574\ub2f9 \ud504\ub85c\ud37c\ud2f0 \uc5b4\ud2b8\ub9ac\ubdf0\ud2b8\uc5d0 \uac12\uc744 \uc7ac\ud560\ub2f9 \ud569\ub2c8\ub2e4. \ud504\ub85c\ud37c\ud2f0\uac00 \uc5c6\uc73c\uba74 \ud504\ub85c\ud37c\ud2f0\ub97c \ub3d9\uc801 \uc0dd\uc131\ud558\uace0 \uc0dd\uc131\ub41c \ud504\ub85c\ud37c\ud2f0\uc758 **\\\\[\\\\[Value\\\\]\\\\]** \uc5d0 \uac12\uc744 \uc800\uc7a5\ud569\ub2c8\ub2e4.\\n- **\\\\[\\\\[Writable\\\\]\\\\]** : \ud504\ub85c\ud37c\ud2f0 \uac12\uc758 \ubcc0\uacbd \uac00\ub2a5 \uc5ec\ubd80\ub97c \ub098\ud0c0\ub0c5\ub2c8\ub2e4.\\n- **\\\\[\\\\[Enumerable\\\\]\\\\]** : \ud504\ub85c\ud37c\ud2f0\uc758 \uc5f4\uac70 \uac00\ub2a5 \uc5ec\ubd80\ub97c \ub098\ud0c0\ub0b4\uba70 \ubd88\ub9ac\uc5b8 \uac12\uc744 \uac00\uc9d1\ub2c8\ub2e4.\\n- **\\\\[\\\\[Configurable\\\\]\\\\]** : \ud504\ub85c\ud37c\ud2f0\uc758 \uc7ac\uc815\uc758 \uac00\ub2a5 \uc5ec\ubd80\ub97c \ub098\ud0c0\ub0b4\uba70 \ubd88\ub9ac\uc5b8 \uac12\uc744 \uac00\uc9d1\ub2c8\ub2e4. \uc774 \uac12\uc774 `false`\uc778 \uacbd\uc6b0 \ud574\ub2f9 \ud504\ub85c\ud37c\ud2f0\uc758 \uc0ad\uc81c \ubc0f \ud504\ub85c\ud37c\ud2f0 \uc5b4\ud2b8\ub9ac\ubdf0\ud2b8 \uac12\uc758 \ubcc0\uacbd\uc774 \uae08\uc9c0\ub429\ub2c8\ub2e4. \ub2e8 **\\\\[\\\\[Writable\\\\]\\\\]** \uc774 `true` \uc778 \uacbd\uc6b0 **\\\\[\\\\[Value\\\\]\\\\]** \uac12\uc758 \ubcc0\uacbd\uacfc **\\\\[\\\\[Writable\\\\]\\\\]** \uc744 false`\ub85c \ubcc0\uacbd\ud558\ub294 \uac83\uc740 \uac00\ub2a5\ud569\ub2c8\ub2e4.\\n\\n\ub2e4\uc74c\uc73c\ub85c \uc811\uadfc\uc790 \ud504\ub85c\ud37c\ud2f0\uc778 `fullName` \uc744 \ubd05\uc2dc\ub2e4. \uc5ec\uae30\uc11c\ub294 \ub370\uc774\ud130 \ud504\ub85c\ud37c\ud2f0\uc640\ub294 \ub2e4\ub974\uac8c `value`\uc640 `writable` \ud56d\ubaa9\uc774 \uc5c6\uace0 \ub300\uc2e0\uc5d0 `get` \uacfc `set` \uc774 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n- **\\\\[\\\\[Get\\\\]\\\\]** : \uc811\uadfc\uc790 \ud504\ub85c\ud37c\ud2f0\ub97c \ud1b5\ud574 \ud504\ub85c\ud37c\ud2f0 \uac12\uc5d0 \uc811\uadfc\ud558\uba74 **\\\\[\\\\[Get\\\\]\\\\]** \uc758 \uac12\uc778 `getter` \ud568\uc218\uac00 \ud638\ucd9c\ub418\uace0 \uadf8 \uacb0\uacfc\uac00 \ud504\ub85c\ud37c\ud2f0 \uac12\uc73c\ub85c \ubc18\ud658\ub429\ub2c8\ub2e4.\\n- **\\\\[\\\\[Set\\\\]\\\\]** : \uc811\uadfc\uc790 \ud504\ub85c\ud37c\ud2f0\ub97c \ud1b5\ud574 \uac12\uc744 \uc800\uc7a5\ud560 \ub54c **\\\\[\\\\[Set\\\\]\\\\]** \uc758 \uac12\uc774 `setter` \ud568\uc218\uac00 \ud638\ucd9c\ub418\uace0 \uadf8 \uacb0\uacfc\uac00 \ud504\ub85c\ud37c\ud2f0 \uac12\uc73c\ub85c \uc800\uc7a5\ub429\ub2c8\ub2e4.\\n\\n\uc811\uadfc\uc790 \ud568\uc218\ub294 `getter/setter` \ud568\uc218\ub77c\uace0\ub3c4 \ubd80\ub985\ub2c8\ub2e4. \uc811\uadfc\uc790 \ud504\ub85c\ud37c\ud2f0\ub294 \ub450 \ud568\uc218\ub97c \ubaa8\ub450 \uc815\uc758\ud560 \uc218\ub3c4 \uc788\uace0 \ub458 \uc911 \ud558\ub098\ub9cc \uc815\uc758\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n### \ud504\ub85c\ud37c\ud2f0 \uc815\uc758\\n\\n`Object.defineProperty` \uba54\uc11c\ub4dc\ub97c \uc0ac\uc6a9\ud558\uba74 \ud504\ub85c\ud37c\ud2f0\uc758 \uc5b4\ud2b8\ub9ac\ubdf0\ud2b8\ub97c \uc815\uc758\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc778\uc218\ub85c\ub294 \uac1d\uccb4\uc758 \ucc38\uc870\uc640 \ub370\uc774\ud130 \ud504\ub85c\ud37c\ud2f0\uc758 \ud0a4\uc778 \ubb38\uc790\uc5f4, \ud504\ub85c\ud37c\ud2f0 \ub514\uc2a4\ud06c\ub9bd\ud130 \uac1d\uccb4\ub97c \uc804\ub2ec\ud569\ub2c8\ub2e4.\\n\\n```javascript\\nconst person = {};\\nconst descriptor = {\\n  value: \\"Kim\\",\\n  writable: true,\\n  enumerable: true,\\n  configurable: true,\\n};\\nObject.defineProperty(person, \\"lastName\\", descriptor);\\n\\nObject.defineProperty(person, \\"firstName\\", {\\n  ...descriptor,\\n  value: \\"Jngyun\\",\\n  enumerable: false,\\n});\\n\\nconsole.log(person);\\n// { lastName: \\"Kim\\" }\\n\\nconsole.log(Object.getOwnPropertyDescriptors(person));\\n/**\\n *{\\n *  lastName: { value: \\"Kim\\", writable: true, enumerable: true, configurable: true },\\n *  firstName: { value: \\"Jngyun\\", writable: true, enumerable: false, configurable: true }\\n *}\\n */\\n```\\n\\n\ub514\uc2a4\ud06c\ub9bd\ud130 \uac1d\uccb4\uc758 \ud504\ub85c\ud37c\ud2f0\ub97c \uc0dd\ub7b5\ud588\uc744\ub54c\uc758 \uae30\ubcf8\uac12\uc740 `false`\ub85c \uc801\uc6a9\ub429\ub2c8\ub2e4. `Object.defineProperty` \ub97c \uc0ac\uc6a9\ud558\uba74 \uc5ec\ub7ec\uac1c\uc758 \ud504\ub85c\ud37c\ud2f0\ub97c \ud55c \ubc88\uc5d0 \uc815\uc758\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n```javascript\\nconst person2 = {};\\nObject.defineProperties(person2, {\\n  name: {\\n    value: \\"jngyun\\",\\n    writable: true,\\n  },\\n  age: {\\n    value: 25,\\n    writable: true,\\n  },\\n  information: {\\n    get() {\\n      return `name: ${this.name}, age: ${this.age}`;\\n    },\\n    enumerable: false,\\n    configurable: false,\\n  },\\n});\\n\\nconsole.log(person2.information);\\n// name: jngyun, age: 25\\n\\nconsole.log(person2);\\n// { name: \\"jngyun\\", age: 25 }\\n```\\n\\n### \uac1d\uccb4 \ubcc0\uacbd \uac10\uc9c0\\n\\n\uac1d\uccb4\ub294 \ubcc0\uacbd \uac00\ub2a5\ud55c \uac12\uc774\ubbc0\ub85c \uc7ac\ud560\ub2f9 \uc5c6\uc774 \ud504\ub85c\ud37c\ud2f0\ub97c \ucd94\uac00\ud558\uac70\ub098 \uc0ad\uc81c\ud560 \uc218 \uc788\uace0, \ud504\ub85c\ud37c\ud2f0 \uac12\uc744 \uac31\uc2e0\ud560 \uc218 \uc788\uc73c\uba70 `Object.defineProperty` \ub610\ub294 `Object.defineProperties` \ub97c \ud1b5\ud574 \ud504\ub85c\ud37c\ud2f0 \uc5b4\ud2b8\ub9ac\ubdf0\ud2b8 \ub610\ud55c \uc7ac\uc815\uc758\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8\ub294 \uac1d\uccb4\uc758 \ubcc0\uacbd\uc744 \ubc29\uc9c0\ud558\ub294 \ub2e4\uc591\ud55c \uba54\uc11c\ub4dc\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. \ud3b8\uc758\uc0c1 \uc11c\uc220\ud558\ub294 \ub2e4\uc74c \uba54\uc11c\ub4dc\ub4e4\uc740 \uc704\ucabd\uc5d0 \uc788\ub294 \uba54\uc11c\ub4dc\uc758 \ubcc0\uacbd \uae08\uc9c0 \uac15\ub3c4\ub97c \uc0c1\uc18d\ud569\ub2c8\ub2e4.\\n\\n- `Object.preventExtensions` : \ud504\ub85c\ud37c\ud2f0 \ucd94\uac00 \ubc29\uc9c0\\n- `Object.seal` : \ud504\ub85c\ud37c\ud2f0 \uc0ad\uc81c \ubc29\uc9c0, \ud504\ub85c\ud37c\ud2f0 \uc5b4\ud2b8\ub9ac\ubdf0\ud2b8 \uc7ac\uc815\uc758 \ubc29\uc9c0\\n- `Object.freeze` : \ud504\ub85c\ud37c\ud2f0 \uac12 \uc4f0\uae30 \ubc29\uc9c0\\n\\n`Object.preventExtensions` \uba54\uc11c\ub4dc\ub294 \uac1d\uccb4\uc758 \ud655\uc7a5\uc744 \uae08\uc9c0\ud569\ub2c8\ub2e4. \uac1d\uccb4\uac00 \ud655\uc7a5\uc774 \uac00\ub2a5\ud55c\uc9c0\uc758 \uc5ec\ubd80\ub294 `Object.isExtensible` \uba54\uc11c\ub4dc\ub85c \ud655\uc778\uac00\ub2a5\ud569\ub2c8\ub2e4. \ud504\ub85c\ud37c\ud2f0 \uc0ad\uc81c\ub294 \uac00\ub2a5\ud569\ub2c8\ub2e4.\\n\\n```javascript\\nconst person = { name: \\"jngyun\\" };\\nconsole.log(Object.isExtensible(person)); // true\\nObject.preventExtensions(person);\\nconsole.log(Object.isExtensible(person)); // false\\n\\nperson.age = 20;\\n// error: Uncaught TypeError: Cannot add property age, object is not extensible\\n```\\n\\n`Object.seal` \uc740 \uac1d\uccb4\ub97c \ubc00\ubd09\ud569\ub2c8\ub2e4. \ubc00\ubd09\ub41c \uac1d\uccb4\ub294 \uc77d\uae30\uc640 \uc4f0\uae30\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4. \uc774 \uc5ec\ubd80\ub294 `Object.isSealed` \uba54\uc11c\ub4dc\ub85c \ud655\uc778\uac00\ub2a5\ud569\ub2c8\ub2e4. \ud504\ub85c\ud37c\ud2f0 \uc0ad\uc81c\uac00 \uae08\uc9c0\ub418\uace0 \uc5b4\ud2b8\ub9ac\ubdf0\ud2b8 \uc7ac\uc815\uc758\uac00 \uae08\uc9c0\ub429\ub2c8\ub2e4.\\n\\n```javascript\\nperson = { name: \\"jngyun\\" };\\nconsole.log(Object.isSealed(person)); // false\\nObject.seal(person);\\nconsole.log(Object.isSealed(person)); // true\\n\\nObject.defineProperty(person, \\"name\\", { value: \\"jngyun\\", enumerable: false });\\n// error: Uncaught TypeError: Cannot redefine property: name\\n```\\n\\n`Object.freeze` \uba54\uc11c\ub4dc\ub294 \uac1d\uccb4\ub97c \ub3d9\uacb0\ud569\ub2c8\ub2e4. \ub3d9\uacb0\ub41c \uac1d\uccb4\ub294 \uc77d\uae30\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4. \ub3d9\uacb0\ub41c \uac1d\uccb4\uc778\uc9c0 \uc5ec\ubd80\ub294 `Object.isFrozen` \uc73c\ub85c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n```javascript\\nperson = { name: \\"jngyun\\" };\\nconsole.log(Object.isFrozen(person)); // false\\nObject.freeze(person);\\nconsole.log(Object.isFrozen(person)); // true\\n\\nperson.name = \\"changha\\";\\n// error: Uncaught TypeError: Cannot assign to read only property \'name\' of object \'#<Object>\'\\n```\\n\\n\uc704 \uba54\uc11c\ub4dc\ub4e4\uc740 \uc595\uc740 \ubcc0\uacbd \uac10\uc9c0\ub85c \uc9c1\uc18d \ud504\ub85c\ud37c\ud2f0\ub9cc \ubcc0\uacbd\uc774 \ubc29\uc9c0\ub418\uace0 \uc911\ucca9 \uac1d\uccb4\uae4c\uc9c0 \uc601\ud5a5\uc744 \uc8fc\uc9c4 \ubabb\ud569\ub2c8\ub2e4. \ub530\ub77c\uc11c `Object.freeze` \uba54\uc11c\ub4dc\ub85c \uac1d\uccb4\ub97c \ub3d9\uacb0\ud558\uc5ec\ub3c4 \uc911\ucca9 \uac1d\uccb4\uae4c\uc9c0 \ub3d9\uacb0\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\\n\\n```javascript\\nconst person2 = {\\n  favor: { food: [\\"apple\\", \\"chicken\\"], movie: [\\"spiderman\\"] },\\n  name: \\"jngyun\\",\\n};\\nObject.freeze(person2);\\nconsole.log(Object.isFrozen(person2.favor)); // false\\n\\ntry {\\n  person2.favor.food = [\\"chicken\\", \\"pizza\\"];\\n  console.log(person2);\\n} catch (e) {\\n  console.log(e);\\n}\\n// { favor: { food: [ \\"chicken\\", \\"pizza\\" ], movie: [ \\"spiderman\\" ] }, name: \\"jngyun\\" }\\n\\ntry {\\n  person2.name = \\"changha\\";\\n  console.log(person2);\\n} catch (e) {\\n  console.log(e);\\n}\\n// TypeError: Cannot assign to read only property \'name\' of object \'#<Object>\'\\n```\\n\\n---\\n\\n#### \ucc38\uace0\\n\\n\uc774\uc6c5\ubaa8, **\u300e\ubaa8\ub358 \uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8 Deep Dive\u300f**,\xa0\uc704\ud0a4\ubd81\uc2a4(2020), p219-233.\\n\\n[Property attributes: an introduction](https://exploringjs.com/deep-js/ch_property-attributes-intro.html)\\n\\n[Object - JavaScript | MDN](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Object)"}]}')}}]);